<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="None">
        
        
        <link rel="shortcut icon" href="img/favicon.ico">
        <title>EDA SLURM Cluster on AWS</title>
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/fontawesome.min.css" rel="stylesheet">
        <link href="css/brands.min.css" rel="stylesheet">
        <link href="css/solid.min.css" rel="stylesheet">
        <link href="css/v4-font-face.min.css" rel="stylesheet">
        <link href="css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body class="homepage">
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href=".">EDA SLURM Cluster on AWS</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="." class="nav-link active" aria-current="page">AWS EDA Slurm Cluster</a>
                            </li>
                            <li class="nav-item">
                                <a href="deployment-prerequisites/" class="nav-link">Deployment Prerequisites</a>
                            </li>
                            <li class="nav-item">
                                <a href="security-groups/" class="nav-link">Security Groups</a>
                            </li>
                            <li class="nav-item">
                                <a href="deploy-parallel-cluster/" class="nav-link">Deploy AWS ParallelCluster</a>
                            </li>
                            <li class="nav-item">
                                <a href="config/" class="nav-link">Configuraton File Format</a>
                            </li>
                            <li class="nav-item">
                                <a href="res_integration/" class="nav-link">RES Integration</a>
                            </li>
                            <li class="nav-item">
                                <a href="soca_integration/" class="nav-link">SOCA Integration</a>
                            </li>
                            <li class="nav-item">
                                <a href="exostellar-workload-optimizer/" class="nav-link">Exostellar Workload Optimizer (XWO)</a>
                            </li>
                            <li class="nav-item">
                                <a href="exostellar-infrastructure-optimizer/" class="nav-link">Exostellar Infrastructure Optimizer (XIO)</a>
                            </li>
                            <li class="nav-item">
                                <a href="custom-amis/" class="nav-link">Custom AMIs for ParallelCluster</a>
                            </li>
                            <li class="nav-item">
                                <a href="run_jobs/" class="nav-link">Run Jobs</a>
                            </li>
                            <li class="nav-item">
                                <a href="job_preemption/" class="nav-link">Job Preemption</a>
                            </li>
                            <li class="nav-item">
                                <a href="rest_api/" class="nav-link">Slurm REST API</a>
                            </li>
                            <li class="nav-item">
                                <a href="onprem/" class="nav-link">On-Premises Integration</a>
                            </li>
                            <li class="nav-item">
                                <a href="containers/" class="nav-link">Containers</a>
                            </li>
                            <li class="nav-item">
                                <a href="delete-cluster/" class="nav-link">Delete Cluster</a>
                            </li>
                            <li class="nav-item">
                                <a href="debug/" class="nav-link">Debug</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" class="nav-link disabled">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="deployment-prerequisites/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/aws-samples/aws-eda-slurm-cluster/edit/master/docs/index.md" class="nav-link"><i class="fa-brands fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#aws-eda-slurm-cluster" class="nav-link">AWS EDA Slurm Cluster</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#operating-system-and-processor-architecture-support" class="nav-link">Operating System and Processor Architecture Support</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#documentation" class="nav-link">Documentation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#security" class="nav-link">Security</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#license" class="nav-link">License</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="aws-eda-slurm-cluster">AWS EDA Slurm Cluster</h1>
<p>This repository contains an AWS Cloud Development Kit (CDK) application that creates a Slurm cluster that is suitable for running production EDA workloads on AWS.</p>
<p>The original (legacy) version of this repo that used a custom Python plugin to integrate Slurm with AWS has been deprecated and is no longer supported.
It can be found on the v1 branch.
The latest version of the repo uses AWS ParallelCluster for the core Slurm infrastructure and AWS integration.
The big advantage of moving to AWS ParallelCluster is that it is a supported AWS service.
Currently, some of the features of the legacy version are not supported in the ParallelCluster version, but
work continues to add features to ParallelCluster so that those features may be supported in the future.</p>
<p>Key features are:</p>
<ul>
<li>Automatic scaling of AWS EC2 instances based on demand</li>
<li>Use any AWS EC2 instance type including Graviton2</li>
<li>Use of spot instances</li>
<li>Memory-aware scheduling</li>
<li>License-aware scheduling (Manages tool licenses as a consumable resource)</li>
<li>User and group fair share scheduling</li>
<li>Handling of spot terminations</li>
<li>Handling of insufficient capacity exceptions</li>
<li>Batch and interactive partitions (queues)</li>
<li>Slurm accounting database</li>
<li>CloudWatch dashboard</li>
<li>Job preemption</li>
<li>Manage on-premises compute nodes</li>
<li>Configure partitions (queues) and nodes that are always on to support reserved instances (RIs) and savings plans (SPs).</li>
<li>Integration with <a href="https://aws.amazon.com/hpc/res/">Research and Engineering Studio on AWS (RES)</a></li>
</ul>
<p>Features in the legacy version and not in the ParallelCluster version:</p>
<ul>
<li>Heterogenous clusters with mixed OSes and CPU architectures on compute nodes.</li>
<li>Multi-AZ support. Supported by ParallelCluster, but not currently implemented.</li>
<li>Multi-region support</li>
<li>AWS Fault Injection Simulator (FIS) templates to test spot terminations</li>
<li>Multi-cluster federation</li>
</ul>
<p>ParallelCluster Limitations</p>
<ul>
<li>Number of "Compute Resources" (CRs) is limited to 50 which limits the number of instance types allowed in a cluster.
  ParallelCluster can have multiple instance types in a compute resource (CR), but with memory based scheduling enabled, they must all have the same number of cores and amount of memory.</li>
<li>All Slurm instances must have the same OS and CPU architecture.</li>
<li>Stand-alone Slurm database daemon instance. Prevents federation.</li>
<li>Multi-region support. This is unlikely to change because multi-region services run against our archiectural philosophy.
  Federation may be an option but its current implementation limits scheduler performance and doesn't allow cluster prioritization so jobs land on
  random clusters.</li>
</ul>
<p>Slurm Limitations</p>
<ul>
<li>Job preemption based on licenses</li>
<li>Federation doesn't support prioritizing federated clusters for job scheduling. Result is jobs scattered across the federated clusters.</li>
</ul>
<h2 id="operating-system-and-processor-architecture-support">Operating System and Processor Architecture Support</h2>
<p>This Slurm cluster supports the following OSes:</p>
<p>ParallelCluster:</p>
<ul>
<li>Amazon Linux 2</li>
<li>CentOS 7</li>
<li>RedHat 7, 8 and 9</li>
<li>Rocky Linux 8 and 9</li>
</ul>
<p>This Slurm cluster supports both Intel/AMD (x86_64) based instances and Graviton (arm64/aarch64) based instances.</p>
<p><a href="https://github.com/aws/aws-graviton-getting-started/blob/main/os.md">Graviton instances require</a> Amazon Linux 2 or RedHat/Rocky &gt;=8 operating systems.
RedHat 7 and CentOS 7 do not support Graviton 2.</p>
<p>This provides the following different combinations of OS and processor architecture.</p>
<p>ParallelCluster:</p>
<ul>
<li>Amazon Linux 2 and arm64</li>
<li>Amazon Linux 2 and x86_64</li>
<li>CentOS 7 and x86_64</li>
<li>RedHat 7 and x86_64</li>
<li>RedHat 8/9 and arm64</li>
<li>RedHat 8/9 and x86_64</li>
<li>Rocky 8/9 and arm64</li>
<li>Rocky 8/9 and x86_64</li>
</ul>
<p>Note that in ParallelCluster, all compute nodes must have the same OS and architecture.
However, you can create as many clusters as you require.</p>
<h2 id="documentation">Documentation</h2>
<p><a href="https://aws-samples.github.io/aws-eda-slurm-cluster/">View on GitHub Pages</a></p>
<p>You can also view the docs locally,
The docs are in the docs directory. You can view them in an editor or using the mkdocs tool.</p>
<p>I recommend installing mkdocs in a python virtual environment.</p>
<pre><code>python3 -m venv ~/.mkdocs_venv
source ~/.mkdocs_venv/bin/activate
pip install mkdocs
</code></pre>
<p>Then run mkdocs.</p>
<pre><code>source ~/.mkdocs_venv/bin/activate
mkdocs serve &amp;
firefox http://127.0.0.1:8000/ &amp;
</code></pre>
<p>Open a browser to: http://127.0.0.1:8000/</p>
<p>Or you can simply let make do this for you.</p>
<pre><code>make local-docs
</code></pre>
<h2 id="security">Security</h2>
<p>See <a href="CONTRIBUTING/#security-issue-notifications">CONTRIBUTING</a> for more information.</p>
<h2 id="license">License</h2>
<p>This library is licensed under the MIT-0 License. See the <a href="https://github.com/aws-samples/aws-eda-slurm-cluster/blob/main/LICENSE">LICENSE</a> file.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = ".",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="js/base.js"></script>
        <script src="search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>

<!--
MkDocs version : 1.6.1
Build Date UTC : 2025-07-10 16:27:35.331944+00:00
-->
